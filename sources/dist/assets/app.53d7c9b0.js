/* empty css              */const l=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}};l();console.log("LOAD APP.JS");function d(n){try{return n.fields.filter(o=>o.tooltip.indexOf("Issue type")!=-1).map(o=>o.value)[0]}catch{console.log("Impossible de r\xE9cup\xE9rer le Jira"),console.log(n)}}async function a(){const n=(await miro.board.get({type:"card"})).filter(i=>i.type==="card"),o=await miro.board.get({type:"connector"}),r=n.reduce((i,e)=>{const t=d(e);return t&&(i[t]=i[t]?[...i[t],e.id]:[e.id]),i},{});Object.keys(r).forEach(async i=>{if(r[i].length>1){const e=r[i].shift();r[i].forEach(async t=>{o.find(c=>c.start.item===e&&c.end.item===t||c.start.item===t&&c.end.item===e)||await miro.board.createConnector({shape:"straight",start:{item:e},end:{item:t},style:{color:"#f24726",strokeWidth:8}})})}})}document.getElementById("identifierDoublons").onclick=a;document.getElementById("rocket").onclick=()=>{document.getElementById("rocket").src="/assets/rocket2.png"};const f=n=>n.type==="card"&&n.fields.some(o=>o.tooltip.indexOf("GOJIRA KEY")>-1);miro.board.ui.on("selection:update",async n=>{const o=n.items.filter(f),r=o.map(e=>e.fields.filter(t=>t.tooltip.indexOf("Issue key")!=-1)[0].value),i=o.map(e=>e.fields.filter(t=>t.tooltip.indexOf("GOJIRA KEY")!=-1)[0].value);document.getElementById("jiraIds").innerText="("+r.join("; ")+")",document.getElementById("gojiraIds").innerText="("+i.join("; ")+")"});
